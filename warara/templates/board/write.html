{% extends "board/base.html" %}

{% block script %}
{{block.super}}
<script type="text/javascript" src="/media/js/board_write.js"></script>
{% endblock script %}

{% block style %}
{{block.super}}
<link rel="stylesheet" type="text/css" href="/media/style/board_write.css"></link>
{% endblock style %}

{% block board_content %}
{% load i18n %}
<div id="article_write_head">
    <span class="main_head">
        {% trans "write an article" %}
    </span>
    <span class="sub_head">
        {% trans "write an article" %}
    </span>
</div>
<form name="article_write" action="/board/{{board_name}}/write/" method="post" enctype="multipart/form-data">
    <div id="article_write_title">
        <caption>{% trans "title : " %}</caption>
        <input type="text" value="{{default_title}}" name="title"></input>
    </div>
    <div id="article_write_text">
        <textarea name="text">{{default_text}}</textarea>
    </div>
    {% if article.attach %}
    <div id="article_delete_file">
        <caption>{% trans "file(s) : " %}</caption>
        {% for file in article.attach %}
        <span name="aritcle_file">
            <a name="file_name" rel="{{file.file_id}}" href="/board/{{board_name}}/0/{{article.id}}/file/{{file.file_id}}" target="_blank">{{file.filename}}</a>
            <a class="delete_file_button" href="#"><img src="/media/image/delete_button.png"></img></a>
            <input type="hidden" name="file_id" value="{{file.file_id}}"></input>
        </span>
        {% endfor %}
    </div>
    {% endif %}
    <div id="article_write_file">
        <div class="file_line">
            <span class="article_write_file_caption">{% trans "file 1" %}</span>
            <div class="file_upload_p">
                <div class="file_upload_t">
                    <input type="file" name="file1" class="file_upload" size=95></input>
                </div>
                <div class="file_upload_f">
                    <input name="file1_fi" class="file_input_f"></input> <!-- file1 fake input -->
                    <div class="file_search_button">
                        {% trans "search" %}
                    </div>
                </div>
                <input type="button" name="file_input_add" class="small_btn" value="+"></input>
            </div>
        </div>
    </div>
    <div id="file_line_model">
        <div class="file_line">
            <span class="article_write_file_caption">{% trans "file 1" %}</span>
            <div class="file_upload_p">
                <div class="file_upload_t">
                    <input type="file" name="file1" class="file_upload" size=95></input>
                </div>
                <div class="file_upload_f">
                    <input name="file1_fi" class="file_input_f"></input> <!-- file1 fake input -->
                    <div class="file_search_button">
                        {% trans "search" %}
                    </div>
                </div>
                <input type="button" name="file_input_delete" class="small_btn" value="-"></input>
            </div>
        </div>
    </div>
    <div id="article_write_buttons">
	    <input type="button" value="{% trans "preview" %}" class="small_btn"></input>
        <input type="submit" value="{{t_write}}" name="article_write" class="big_btn"></input>
	<input type="button" value="{% trans "cancel" %}" name="cancel" class="small_btn"></input>
        <input type="hidden" value="{{t_write}}" name="write_type"></input>
        <input type="hidden" value="{{article_no}}" name="article_no"></input>
        <input type="hidden" value="{{board_name}}" name="board_name"></input>
        <input type="hidden" value="" name="delete_file"></input>
    </div>
</form>
{% endblock board_content %}
