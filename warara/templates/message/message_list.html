{% extends "message/message_base.html" %}

{% block script %}
<script type="text/javascript" src="/media/js/message_list.js"></script>
{{block.super}}
{% endblock script %}

{% block style %}
<link rel="stylesheet" href="/media/style/message_list.css"></link>
{{block.super}}
{% endblock %}

{% block message_content %}
<div>
{% ifequal message_list_type  'inbox'%}
{{num_new_message}} new message(s) / {{message_num}} message(s)
{% endifequal %}
</div>

<div id="message_list_table">
    <table border="1">
        <tr>
            <th>
                <form>
                    <input type="checkbox"></input>
                </form>
            </th>
            <th>
                {{person_type}}
            </th>
            <th>
                text
            </th>
            <th>
                time
            </th>
        </tr>
        {% for message in message_list %}
        <tr>
            <td>
                <form>
                    <input type="checkbox"></input>
                </form>
            </td>
            <td>
                {% ifequal message_list_type 'inbox' %}
                <span class="username">{{message.from}}</span>
                {% else %}
                <span class="username">{{message.to}}</span>
                {% endifequal %}
            </td>
            <td>
                <a href="#" name="message_read_anchor" value="{{message.id}}">{{message.message}}</a>
            </td>
            <td>
                {{message.sent_time}}
            </td>
        </tr>
        {% endfor %}
    </table>
    <form action="/message/read/" method="GET" name="read_message">
        <input type="hidden" name="msg_no" value=""></input>
        <input type="hidden" name="list_type" value="{{message_list_type}}"></input>
    </form>
    <form action="/message/{{message_list_type}}/" method="POST" name="move_list">
        <input type="hidden" name="list_type" value="{{message_list_type}}"></input>
        <input type="hidden" name="page_no" value=""></input>
    </form>
    <form name="page_info">
        <input type="hidden" name="thispage" value="{{page_no}}"></input>
    </form>
</div>

{% endblock message_content %}
