>>> import arara.model
>>> arara.model.init_test_database()
>>> import arara
>>> server = arara.get_namespace()

Register one user, combacsa. then login as existing user mikkang

>>> user_reg_dic = {'username':'combacsa', 'password':'combacsa', 'nickname':'combacsa', 'email':'combacsa', 'signature':'combacsa', 'self_introduction':'combacsa', 'default_language':'english' }
>>> ret, register_key = server.member_manager.register(user_reg_dic)
>>> ret
True
>>> server.member_manager.confirm('combacsa', register_key)
(True, 'OK')
>>> ret, session_key_combacsa = server.login_manager.login('combacsa', 'combacsa', '143.248.234.140')
>>> ret
True

# Register one user, mikkang

>>> user_reg_dic = {'username':'mikkang', 'password':'mikkang', 'nickname':'mikkang', 'email':'mikkang', 'signature':'mikkang', 'self_introduction':'mikkang', 'default_language':'english' }
>>> ret, register_key = server.member_manager.register(user_reg_dic)
>>> ret
True
>>> server.member_manager.confirm('mikkang', register_key)
(True, 'OK')
>>> ret, session_key = server.login_manager.login('mikkang', 'mikkang', '143.248.234.140')
>>> ret
True

# Register one user, serialx

>>> user_reg_dic = {'username':'serialx', 'password':'serialx', 'nickname':'serialx', 'email':'serialx', 'signature':'serialx', 'self_introduction':'serialx', 'default_language':'english' }
>>> ret, register_key = server.member_manager.register(user_reg_dic)
>>> ret
True
>>> server.member_manager.confirm('serialx', register_key)
(True, 'OK')
>>> ret, session_key_serialx = server.login_manager.login('serialx', 'serialx', '143.248.234.140')
>>> ret
True


>>> ret, session_key = server.login_manager.login('mikkang', 'mikkang', '143.248.234.145')
>>> ret
True
>>> ret, member = server.member_manager.get_info(session_key)
>>> print member['activated']
True
>>> print member['email']
mikkang
>>> print member['nickname']
mikkang
>>> user_password_dic = {'username':'mikkang', 'current_password':'mikkang', 'new_password':'ggingkkang'}
>>> server.member_manager.modify_password(session_key, user_password_dic)
(True, 'OK')
>>> user_password_dic = {'username':'mikkang', 'current_password':'ggingkkang', 'new_password':'mikkang'}
>>> server.member_manager.modify_password(session_key, user_password_dic)
(True, 'OK')
>>> modify_user_reg_dic = { 'nickname':'mikkang', 'signature':'KAIST07 && JSH07 && SPARCS07', 'self_introduction':'i am Munbeom', 'default_language':'korean' }
>>> server.member_manager.modify(session_key, modify_user_reg_dic)
(True, 'OK')
>>> search_user_info ={}
>>> search_user_info['username'] = 'mikkang'
>>> server.member_manager.search_user(session_key, search_user_info)
(True, u'mikkang')
>>> server.member_manager.remove_user(session_key)
(True, 'OK')
>>> server.member_manager.is_sysop(session_key)
False

Add SYSOP
>>> user_reg_dic = { 'username':'SYSOP', 'password':'SYSOP', 'nickname':'SYSOP', 'email':'SYSOP@sparcs.org', 'signature':'', 'self_introduction':'i am mikkang', 'default_language':'english' }
>>> ret, register_key = server.member_manager.register(user_reg_dic)
>>> ret, register_key
(False, 'PERMISSION_DENIED')

# Reset the database
>>> import arara.model
>>> arara.model.clear_test_database()
